# GENERATED BY CHEF - KEEP YOUR HANDS OFF
[options]
     logfile = /var/log/knockd.log

<% @rules.each do |name, rule| %>
[<%= name %>]
     sequence    = <%= rule['sequence'].join(',') %>
     seq_timeout = 5
     start_command = <%= rule['start_command'] ? rule['start_command'] : "ufw allow from %IP% to any port #{rule['port']}" %>
     stop_command  = <%= rule[ 'stop_command'] ? rule[ 'stop_command'] : "ufw delete allow from %IP% to any port #{rule['port']}" %>
     tcpflags    = syn
     cmd_timeout   = <%= rule['timeout'] %>
<% end %>